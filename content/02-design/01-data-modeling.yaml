title: Data Modeling
description: |
  Progressive disclosure of the data model in the travel sample bucket and the guest bucket. The Travel Sample bucket is synchronized between the mobile clients and the Couchbase Server. The guest bucket is a local-only database that is embedded in the mobile client.
  
  In this lesson you will learn how to model the data for an application and the relationships between the different models.
  
  Couchbase stores data in documents rather than in table rows. A document is a JSON object containing a number of key-value pairs that are typically correlated. This means that it can take any form as long as it is valid JSON. The following represents the same schema as the table above but in JSON format.
 
  ### Travel Sample Bucket
  
  The Travel Sample Bucket hosts the following types of documents
    
    - Airline
    - Airport
    - Hotel
    - Route
    - Landmarked (not used in apps)
    - User Document (created and managed by user)
  
  Except for the user document, most of the documents are static/semi-static in nature. 

  ![](https://cl.ly/40330Z0M1k3F/models.png)
  
  ### GUEST Bucket
  
  The guest database is used as a local-only store within the Travel Sample Mobile app. It is a simple database for locally storing the list of bookmarked hotels. 
  It is conceivable that in a real-world application, a user of the Travel Sample Mobile app may be interested in browsing for hotels in specific locations meeting specific search criteria without having to actually sign up. They could bookmark these hotels and later add them to their trips reservations. These bookmarked hotels could also be shared with other users, for instance with the user making the trip bookings.

  ![](https://cl.ly/2l0118183p11/guest-model.png)

milestones:
  - title: Document Types
    description: |
      Unlike tables, in Couchbase, all the documents are stored in the same namespace. So you typically use an additional property to differentiate between each entity. Let’s call it type.
      
      TODO: Must have all the properties in the GIF.
      
      ![](https://cl.ly/3K0a0K3P0v0k/document-types.gif)
    tryitout:
      - Add a type property in the blank fields on the diagram above.
  - title: Document Key/ID
    description: |
      Every document in Couchbase is associated with a unique key that must be provided by the user when the document is created. The key is the unique identifier of the document and can take any format. However, it is recommended that you give it a value that provides some context about the contents of the document.
      For instance, in the travel app data set, the document Key/ID is of the format `{doc.type}_{alphanumeric_string}`. Here `{doc.type}` provides some context of the purpose of the document and in combination with the `{alphanumeric_string}`, it uniquely identifies the string.
      The document Key will be listed as “ID” on Couchbase Server admin console. The key is also referred to as the Document ID.
      
      ![](https://cl.ly/0K3V1q3m3K1Z/admin-ui.png)
    tryitout:
      - Option 1, Log into the CB server , search for document with specific key “airline_137” and write down some property value of “icao” in the text box below.
      - Option 2, Show couple of examples of travel sample doc and ask them to give it a key using format specified above.
  - title: Document _id
    description: |
      When Sync Gateway processes a document, it adds relevant metadata to the document. The metadata includes an "_id" property that corresponds  to the document ID. You will see this property if you query for the document via the the Sync Gateway REST API.
      
      `GET {{adminurl}}/{{db}}/airline_137`
      
      ```json
      {
          <a>"_id"</a>: "airline_137",
          "_rev": "1-b4e60280a1a0e3d46efad7bfd0e2068c",
          "callsign": "AIRFRANS",
          "country": "France",
          "iata": "AF",
          "icao": "AFR",
          "id": 137,
          "name": "Air France",
          "type": "airline"
      }
      ```
      
      Mobile App Developers using Couchbase Lite  should typically never have to directly read or write the _id property. You would query the meta().id field to fetch the document ID. We will learn more about this in our lesson on Queries.
    tryitout:
      - TODO
  - title: Storing Dates
    description: |
      TODO
      
      - Show JSON models
      
    tryitout:
      - Add a date to the model
  - title: Entity relationships
    description: |
      TODO
    tryitout:
      - Add the relationships between each document
  - title: Blobs
    description: |
      TODO
    tryitout:
      - TODO