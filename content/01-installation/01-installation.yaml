title: Installation
milestones:
  - title: Pre-requisites
    description: |
      To start, it is easiest if you run all the components on the same machine. It's not required to run your development environment this way, and advanced configurations are discussed in the Deploy section but it is more convenient to start a development environment with components running locally.  
      ```md-swift
      - iOS (Xcode 8.3.3 and above) if developing for iOS platform
        - Downloadable from [Apple Developer site](https://developer.apple.com)
      ```
      ```md-java
      - Android (Android Studio 2.3 and above) if developing for Android platform
        - Downloadable from [Google Developer site](https://developer.android.com)
      ```
      - Python (V 2.7 and above)
        - Downloadable from [python.org](https://www.python.org/downloads/)
      - git
        - Downloadable from [git-scm.org](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)
    tryitout:
      - If developing for iOS, open Xcode (JAMES QUESTION - NEED TO SEPARATE BETWEEN iOS AND JAVA IN THIS SECTION)
      - If developing for Android, open Android Studio
      - Verify python installation
        - Run the following command from your terminal command line
        ```bash
        python --version
        ```
        You should see the version of python displayed
      - Verify git installation
        - Run the following command from your terminal command line
        ```bash
        git --version
        ```
        You should see the version of git installed
  - title: Travel Sample Mobile App
    description: |
      - Clone the app from GitHub and switch to the `connect_sv` branch
      ```bash
      git clone https://github.com/couchbaselabs/mobile-travel-sample.git
      git checkout -b connect_sv
      ```
      - Run the `install.sh` script to download and install the 2.0 version of Couchbase Lite.
      ```bash
      On iOS-  (JAMES QUESTION- IDEALLY , IT WOULD BE GOOD TO BE ABLE TO SEPARATE BETWEEN iOS AND Android but I can't have code snippets within md-swift blocks)
      cd /path/to/mobile-travel-sample/ios/TravelSample
      sh install.sh
      ```
    tryitout:
      - Open the `TravelSample.xcodeproj` using Xcode
      - Build and run the project using simulator 
      - Verify that the login screen appears in the simulator
  - title: Couchbase Server v5.0
    description: |
      In this step, you will install and launch version 5.0 of the Couchbase Server.
      - [Download and install](https://www.couchbase.com/downloads#couchbase-server) V5.0 of Couchbase Server
      - As you follow the download instructions and setup wizard, make sure you keep all the services (data, query, and index) selected. 
      - Install the sample bucket named *travel-sample* because it contains the data used in this tutorial. 
        - If you have a previous installation of the server without this bucket, you can add the bucket from the "Sample Buckets" tab in the "Settings" menu in the admin console 

      ![](https://raw.githubusercontent.com/couchbaselabs/mobile-travel-sample/connect_sv/content/assets/sample_bucket.png)

      - Launch Couchbase Server 
      - Log into the "Admin Console" with appropriate Administrator credentials you created during installation
      - Create an RBAC user named "_admin_" with password "_password_" with full access to the travel-sample bucket.
        - Note that you can create any user but you must configure the user in the [sync-gateway-config-travelsample.json](https://github.com/couchbaselabs/mobile-travel-sample/blob/master/sync-gateway-config-travelsample.json) as well.
    
      ![](https://raw.githubusercontent.com/couchbaselabs/mobile-travel-sample/connect_sv/content/assets/RBAC_user.png)

      - Create a Full text search index on travel-sample bucket called 'hotels'

      ![](https://raw.githubusercontent.com/couchbaselabs/mobile-travel-sample/connect_sv/content/assets/fts.png)

    tryitout:
      - Launch Couchbase Server 
      - Log into the "Admin Console" with appropriate Administrator credentials you created during installation
      - Select the "Buckets" option from the menu on the left
      - Verify that you have 31,665 documents in your travel-sample bucket

  - title: Travel Sample Web App (Python)
    description: |
      We will use the Python version of the [Travel Sample Web Backend ](https://developer.couchbase.com/documentation/server/current/sdk/python/sample-app-backend.html) which uses the Couchbase Python SDK to with with Couchbase Server Query Services.

      - Install `libcouchbase` which is the Core C SDK used by the Python SDK
        - Follow instructions [here](https://developer.couchbase.com/server/other-products/release-notes-archives/c-sdk) to install libcouchbase on your platform of choice

      - Clone the Travel Sample web app repo and checkout the 5.0 branch
      ```bash
      git clone https://github.com/couchbaselabs/try-cb-python.git
      git checkout 5.0
      ```
      - The application uses several Python libraries that need to be installed, this are listed in requirements.txt and can be automatically loaded using the pip command
      ``` bash
      cd /path/to/try-cb-python
      pip install -r requirements.txt
      ```

      - Update the travel.py file to reflect the username and password that you have used during Couchbase Server install. This defaults to "Administrator" and "password"
      ``` python
      DEFAULT_USER = "Administrator"
      PASSWORD = 'password' 
      ```


    tryitout:
      - Launch the Travel Sample web application by running the travel.py file from a terminal. It will tell you the port on localhost to goto in your web browser
        ``` bash
        python travel.py
        * Running on http://localhost:8080/ (Press CTRL+C to quit)
        ```
      - Open http://localhost:8080/ in your web browser
      - Verify that you see the login screen of the Travel Sample Web App as shown below
        ![](https://raw.githubusercontent.com/couchbaselabs/mobile-travel-sample/connect_sv/content/assets/try_cb_login.png)

  - title: Sync Gateway v1.5
    description: |
      - Install Sync Gateway 1.5 from [download](https://www.couchbase.com/downloads) v1.5 of Sync Gateway on platform of choice
      - Launch the Sync Gateway with the config file named `sync-gateway-config-travelsample.json` that you should have downloaded from the Travel Sample Mobile App Github repo
      ```bash
      cd /path/to/syncgatewayinstall/bin
      ./sync_gateway cd /path/to/mobile-travel-sample/ios/TravelSample/sync-gateway-config-travelsample.json
      ```
    tryitout:
      - Access this URL `http://localhost:4985/travel-sample` in your browser
      - Verify that you get back a JSON response
  